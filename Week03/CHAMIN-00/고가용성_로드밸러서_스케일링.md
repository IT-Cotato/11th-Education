## 목차
1. 가용성  
2. 다운타임의 발생 이유  
3. 로드밸런싱  
   3.1 로드밸런서의 트래픽 분산 알고리즘  
4. 스케일링: 스케일 업/스케일 아웃/오토 스케일링  
   4.1 스케일 업  
   4.2 스케일 아웃  
   4.3 오토 스케일링  
</br>

## 가용성



- 서버, 네트워크, 특정 하드웨어 부품을 비롯한 특정 컴퓨터 시스템이 주어진 기능을 실제로 수행할 수 있는 시간의 비율을 말한다.
- 가용성은  $가용성 = \frac{업타입}{(업타임 + 다운타임)}$ 과 같은 수식으로 표현할 수 있다.
    - 업타입 : 정상적인 사용 시간
    - 다운타임 : 모종의 이유로 인해 정상적인 사용이 불가능한 시간
- 정상적인 사용 시간의 비율이 높을수록 높은 가용성, 즉 고가용성이라고 한다.
- 일반적으로 안정적이라고 평가받는 시스템은 가용성에 대한 백분율을 99.999% 이상을 목표로 한다.
- 99.999% 이상의 수치는 대략 1년에 5.26분, 1개월에 26.3초 밖에 되지 않는 것을 의미한다.

</br>

## 다운타임의 발생 이유



- 다운타임의 발생 원인은 너무 다양하다.
- 과도한 트래픽으로 인한 서비스 다운, 소프트웨어 상의 오류, 하드웨어 장애, 보안 공격, 자연 재해 등등 다양하다.
- 발생 원인은 너무 다양하기 때문에 원천 차단하기는 불가능하다. 고가능성의 핵심은 ‘문제가 발생하더라도 계속 기능할 수 있도록 설계하는 것’이다
- 이를 위한 대표적인 기술이 다중화이다

</br>

## 로드밸런싱



- 한 서버에 과도한 트래픽이 몰릴 경우 발열 문제, 레이스 컨디션, 메모리 부족 등의 문제가 발생시킬 수 있으며, 이는 서버의 가용성을 떨어트린다.
- 서버를 다중화하더라도 트래픽이 고르게 분산되지 않는다면, 가용성은 떨어진다.
- 트래픽의 고른 분배를 위해 사용되는 기술이 로드밸런싱이다.
- 로드밸런싱은 로드밸런서에 의해 수행이 되며, 서버와 클라이언트 사이에 위치하여 각 클라이언트의 요청을 균등하게 분배하는 역할을 한다.

### 로드밸런서의 트래픽 분산 알고리즘

- 요청을 전달할 수 있는 서버가 여러 개일 경우에는 어떤 서버에 요청을 전달해야 할지 결정한다.
- 부하가 균등하게 분산되도록 요청을 전달할 서버를 선택하는 방법을 로드밸런싱 알고리즘이라고 한다.
- 로드밸런싱 알고리즘
    - `라운드 로빈` : 단순히 서버를 돌아가며 부하를 전달한다.
    - `최소 연결` : 연결이 적은 서버부터 우선적으로 부하를 전달한다.
    - 해시, 무작위, 응답시간….
- 하지만 단순히 모든 서버에 균일하게 부하를 부여하는 전략은 모든 서버의 성능이 동일하다는 전제가 필요하다.
- 성능 차이가 존재한다면, 성능이 더 좋은 서버에 더 많은 트래픽을 분배하는 것이 합리적이다. 로드밸런싱 알고리즘에는 이를 위해 가중치를 부여할 수 있다.

</br>

## 스케일링: 스케일 업/스케일 아웃/오토 스케일링


- 성능이 뛰어난 장비를 사용하면 그렇지 못한 장비를 사용할 때와 비교해 가용성이 높아진다.
- 이와 관련하여 스케일 업, 스케일 아웃이라는 용어가 있다.

### 스케일 업

- 기존 부품을 더 나은 사양으로 교체하는 방법
- 수직적 확장
- 설치와 구성이 단순하다. 더 좋은 장비로 갈아 끼우기만 하면 됨
- 하지만 변화에 유연하지 않다.
- 하나의 장비 성능에 한계가 있을 경우, 더 좋은 장비를 구매해야 하는데 이는 비용 부담이 크고 현실적으로 지속적인 업그레이드에 한계가 있다
- 확장 시 병목이 집중되기 쉬워, 해당 장비에 문제가 생기면 전체 시스템에 큰 영향을 줄 수 있다.

### 스케일 아웃

- 기존 부품을 여러 개로 두는 방법
- 수평적 확장
- 유연한 확장 및 축소가 가능하다. 필요에 따라 장비를 추가하거나 제거할 수 있다.
- 설치 및 구성 방식이 복잡할 수 있으나, 일단 구조를 이해하면 확장 및 축소가 쉽다.
- 부하가 분산되기 때문에 병목 현상이 덜하고 안정적인 운영이 가능하다.
- 일부 장비에 고장이 발생해도 다른 장비가 역할을 대신할 수 있어 내결함성(fault-tolerance)이 높다.

### 오토 스케일링

- 트래픽 급증 상황에 자동으로 자원을 확장하거나 축소하는 기능이다.
- 자동 수평 확장/축소
- 특정 시점(예: 티켓팅, 수강신청, 쇼핑몰 이벤트 등)에 트래픽이 급증할 경우, 미리 대비하지 않으면 성능 저하나 장애 발생 위험이 있다.
- 수동으로 스케일 업/아웃을 하는 것은 비효율적이므로, 트래픽 변화에 따라 자원을 자동으로 조절하는 방식이 효율적이다.
- 클라우드 서비스 대부분에서 제공하며, 웹 서버나 DB 등 탄력적 자원 사용이 필요한 경우에 적합하다.
- 비용 절감 및 운영 효율성 향상에 기여한다.
